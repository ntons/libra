# librad configuration
# enable/disable service(s) by command line options

log:
  level: {{ 'INFO'|env:'LIBRA_LOG_LEVEL' }}

server:
  listen: {{ ':80'|env:'LIBRAD_BIND' }}

registry:
  auth:
    redis:
      - {{ ''|env:'LIBRAD_REGISTRY_AUTH_REDIS' }}
  nonce:
    redis:
      - {{ ''|env:'LIBRAD_REGISTRY_NONCE_REDIS' }}
  mongo: {{ ''|env:'LIBRAD_REGISTRY_MONGO' }}

database:
  database: &database
    redis:
      - {{ ''|env:'LIBRAD_DATABASE_REDIS' }}
    mongo: {{ ''|env:'LIBRAD_DATABASE_MONGO' }}
  mailbox: &mailbox
    redis:
      - {{ ''|env:'LIBRAD_MAILBOX_REDIS' }}
    mongo: {{ ''|env:'LIBRAD_MAILBOX_MONGO' }}
  distlock:
    redis:
      - {{ ''|env:'LIBRAD_DISTLOCK_REDIS' }}
    ttl: {{ '10s'|env:'LIBRAD_DISTLOCK_TTL' }}

syncer:
  tasks:
  - name: db
    <<: *database
  - name: mb
    <<: *mailbox

ranking:
  bubblechart:
    redis:
      - {{ ''|env:'LIBRAD_BUBBLECHART_REDIS' }}
  leaderboard:
    redis:
      - {{ ''|env:'LIBRAD_LEADERBOARD_REDIS' }}

