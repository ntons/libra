# docker compose for experience or standalone deployment

version: "3.2"

services:
  mongo:
    image: mongo:3.6
    container_name: libra-mongo
    restart: unless-stopped

  redis:
    image: redis:5.0
    container_name: libra-redis
    restart: unless-stopped

  server:
    image: librad
    container_name: libra-server
    ports:
      - "8000:8000"
      - "8080:8080"
      - "10000:10000"
    environment:
      ENVOY_CONFIG_TEMPLATE: "envoy/solo.template.yaml"
      APP_ROUTE_PREFIX: "/helloworld.Greeter/"
      APP_ADDR: "192.168.10.71"
      APP_PORT: "80"
    command: ["./librad", "-c", "./librad.solo.yaml", "-e", "xds"]

